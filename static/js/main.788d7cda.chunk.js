(this["webpackJsonpreact-interview-starter-ts"]=this["webpackJsonpreact-interview-starter-ts"]||[]).push([[0],{12:function(e,t,a){e.exports={PaginationView:"PaginationView_PaginationView__3zCQe",pagesSelectors:"PaginationView_pagesSelectors__S5zqp",selected:"PaginationView_selected__37q9T",firstLastPageButton:"PaginationView_firstLastPageButton__36hdw"}},13:function(e,t,a){e.exports={Popup:"Popup_Popup__14VLR",closeButton:"Popup_closeButton__1MB6k",imageContainer:"Popup_imageContainer__TWdb8",productName:"Popup_productName__2MbD-",productDescription:"Popup_productDescription__3iNCh"}},14:function(e,t,a){e.exports={Header:"Header_Header__MbDSf",LoginLogoSection:"Header_LoginLogoSection__2on98",UserInfo:"Header_UserInfo__3hcCf",LogoutButton:"Header_LogoutButton__1_9qt",InputsSection:"Header_InputsSection__2QbTQ"}},15:function(e,t,a){e.exports={Products:"Products_Products__1ilUO",ProductsWrapper:"Products_ProductsWrapper__j4B8C",singleProduct:"Products_singleProduct__2Tam3",appear:"Products_appear__3Bc9w",activePopup:"Products_activePopup__2Kd4n",loader:"Products_loader__1X36G",load8:"Products_load8__2aaiD"}},18:function(e,t,a){e.exports={EmptyList:"EmptyList_EmptyList__3Jnxw",emptyListHeader:"EmptyList_emptyListHeader__1L8oc",emptyListSubheader:"EmptyList_emptyListSubheader__2XwO-"}},21:function(e,t){e.exports="data:image/png;base64,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"},22:function(e,t,a){e.exports={SearchInputContainer:"SearchInput_SearchInputContainer__3Ma_i",SearchInput:"SearchInput_SearchInput__Dh5N8",SearchIcon:"SearchInput_SearchIcon__157L0"}},41:function(e,t,a){e.exports={checkboxInput:"Checkbox_checkboxInput__tAyWV"}},42:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAANCAYAAACZ3F9/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFZSURBVHgBlZJBUsIwFIZfUqzbeoNyAutCkXEDSwWluQGeoHgChxvoCcATRGQK7mSj1boonsDeQJZOJe+ZDAPTztAFmckkk/e+vP/9CUDJkNPIlTJxyuK8LACK+VD57e0McsYCznmwEyjDqGtWxthcTt78bTmsAMjIBRsdDpUBAt4DkWPxSkcp1YclpELU0w0ox1FDSxrovavngvQEYqnfPmkac6y9P4mMXLaKm5Ei4jVbSXv1dBWpLxhenh/3t0kbTz9vNdBFWArROptvpBr7OfIXxuDx6qJ2k4eewnhAQA3MsLmWW+wxjHVlSjCzD4Q4Wqz6ThxuZz8aquZ7LLqqyCViMwONn+NATt57Zq/dncE+efnUIshIGwUwCuNELcHnxIJR+PENQAtQvFEKWhY/JCIPCR+Mq51WraqfpU8EnomVVyRtdWZXRfv0bn0kWvUhcmwqwq/83/0HaC+cXBN4zc4AAAAASUVORK5CYII="},43:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAANCAYAAACZ3F9/AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEQSURBVHgBlZJNbsIwEIVnxk3aSF3kCMmOokrNEcIN6LIKi+YEtEfoDXqDVKpolz1CuUHLIoilj8ACFATYgwMEEQnz8yTLHo8+v5mRASwqskbAWeTb8mRLoCPas6v5y+UgQpcIuxeBRa/5bLbALH/6ddc++HANMH0pV/kOuJkJo61zXyn1BkuQXjqSO7D4vI+JONs6nBaC1ArTteOk14wcwJ8zYLkAfrxNhv+7UovvRkBa/B6BpSbV8p425dZ6nBtnBvw7RBkorKBStamyFgFYpBmj/bgOgoqrMzL0y/KqWDDGVpAEPgDjmBle3U7euk7yUAOn5QOEJmcDjaV0F5PwppO/V1deMvwoh6KZB/t/dwU96V2nJ0dAIAAAAABJRU5ErkJggg=="},44:function(e,t,a){e.exports=a.p+"static/media/task-list-plain.c6551d46.svg"},45:function(e,t,a){e.exports=a(74)},73:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(38),s=a.n(c),i=a(3),u=a(11),l=Object(r.createContext)({isUserLoggedIn:!1,userInfo:{avatar:""},isPopupActive:!1,handleSetIsUserLoggedIn:function(e){},handleAddUserInfo:function(e){},handleSetPopupActive:function(e){}}),m=function(e){var t=e.children,a=Object(r.useState)(!1),n=Object(i.a)(a,2),c=n[0],s=n[1],m=Object(r.useState)({avatar:""}),p=Object(i.a)(m,2),d=p[0],A=p[1],g=Object(r.useState)(!1),h=Object(i.a)(g,2),E=h[0],f=h[1];return o.a.createElement(u.a,null,o.a.createElement(l.Provider,{value:{isUserLoggedIn:c,handleSetIsUserLoggedIn:function(e){s(e)},userInfo:d,handleAddUserInfo:function(e){A(e)},isPopupActive:E,handleSetPopupActive:function(e){f(e)}}},t))},p=a(1),d=a(20),A=a.n(d),g=a(9),h=a.n(g);!function(e){e.home="/",e.login="/login"}(n||(n={}));var E=a(21),f=a.n(E),P=function(){var e=Object(r.useContext)(l),t=e.isUserLoggedIn,a=e.handleSetIsUserLoggedIn,c=(e.userInfo,e.handleAddUserInfo);return t?o.a.createElement(p.a,{to:n.home}):o.a.createElement("div",{className:h.a.loginPageWrapper},o.a.createElement("div",{className:h.a.leftSection},"a"),o.a.createElement("div",{className:h.a.rightSection},o.a.createElement("img",{className:h.a.logo,src:f.a,alt:"logo"}),o.a.createElement("div",{className:h.a.formContainer},o.a.createElement("h2",{className:h.a.heading},"Login"),o.a.createElement("form",{className:h.a.loginForm,onSubmit:function(e){return function(e){e.preventDefault(),A.a.get("https://join-tsh-api-staging.herokuapp.com/users/2").then((function(e){a(!0),c(e.data)}))}(e)}},o.a.createElement("label",{htmlFor:"username"},"Username:"),o.a.createElement("input",{placeholder:"Enter username",name:"username",id:"username"}),o.a.createElement("label",{htmlFor:"password"},"Password:"),o.a.createElement("input",{placeholder:"Enter password",name:"password",type:"password",id:"password"}),o.a.createElement("button",{type:"submit"},"Log in")),o.a.createElement("a",{className:h.a.passwordResetLink,href:"#"},"Forgot password?"))))},_=a(26),S=a.n(_),v=a(40),b=a(27),N=a(12),L=a.n(N),w=null,I=function(e){for(var t=e.pagesSettings,a=(e.pagesLinks,e.setPageNumber),n=e.pageNumber,c=[],s=1;s<=t.totalPages;s++)c.push(s);var u=Object(r.useState)(n),l=Object(i.a)(u,2),m=l[0],p=l[1],d=t.totalPages>6?function(){m!==n&&p(n);var e=c.filter((function(e,t){return t<c.length-3})),t=c.filter((function(e,t){return t>=c.length-3})),a=[],r=[t[t.length-3],t[t.length-2],t[t.length-1]],o=[1,2,3];return e.includes(Number(m))?(a=1===m?o:m>=e[e.length-2]?[e[e.length-3],e[e.length-2],e[e.length-1]]:[m-1,m,m+1],w=m):w&&(a=[w-1,w,w+1],w==e[e.length-1]&&(a=[w-2,w-1,w]),1==w&&(a=o)),a[a.length-1]-r[0]!==-1?[].concat(Object(b.a)(a),["..."],r):[].concat(Object(b.a)(a),r)}():c;return o.a.createElement("div",{className:L.a.PaginationView},o.a.createElement("button",{disabled:1===m,onClick:function(){return a(1)},className:L.a.firstLastPageButton},"First"),o.a.createElement("div",{className:L.a.pagesSelectors},d.map((function(e){return"..."==e?o.a.createElement("span",null,e):o.a.createElement("button",{className:e===m?L.a.selected:"",onClick:function(){a(e),p(e)}},e)}))),o.a.createElement("button",{className:L.a.firstLastPageButton,disabled:m===t.totalPages,onClick:function(){return a(t.totalPages)}},"Last"))},C=a(13),O=a.n(C),j=function(e){var t,a,n=Object(r.useRef)(null);return t=n,a=function(){return e.setPopupActive(!1)},Object(r.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&a(e)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),function(){document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[t,a]),o.a.createElement("div",{ref:n,className:O.a.Popup},o.a.createElement("button",{className:O.a.closeButton,onClick:function(){return e.setPopupActive(!1)}}),o.a.createElement("div",{className:O.a.imageContainer},o.a.createElement("img",{srcSet:e.popupData.image})),o.a.createElement("p",{className:O.a.productName},e.popupData.name),o.a.createElement("p",{className:O.a.productDescription},e.popupData.description))},k=a(41),B=a.n(k),x=function(e){var t=e.id,a=e.name,n=e.handler,r=e.labelText;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{className:B.a.checkboxInput,role:"checkbox-input",type:"checkbox",id:t,name:a,onChange:function(e){n(e.target.checked)}}),o.a.createElement("label",{htmlFor:t},r))},U=a(22),D=a.n(U),y=function(e){var t=e.searchParam,a=e.setPageNumber,n=e.setSearchParam;return o.a.createElement("div",{className:D.a.SearchInputContainer},o.a.createElement("input",{className:D.a.SearchInput,placeholder:"Search",type:"text",value:t,onChange:function(e){n(e.target.value),a(1)}}),o.a.createElement("span",{className:D.a.SearchIcon}))},H=a(14),Q=a.n(H),M=function(e){var t=Object(r.useContext)(l),a=t.isUserLoggedIn,c=t.handleSetIsUserLoggedIn,s=t.userInfo;return o.a.createElement("header",{className:Q.a.Header},o.a.createElement("div",{className:Q.a.LoginLogoSection},o.a.createElement("img",{src:f.a}),o.a.createElement("div",null,a?o.a.createElement("div",{className:Q.a.UserInfo},o.a.createElement("img",{src:s.avatar}),o.a.createElement("button",{className:Q.a.LogoutButton,onClick:function(){return c(!1)}},"Logout")):o.a.createElement(u.b,{to:n.login}," Login "))),o.a.createElement("div",{className:Q.a.InputsSection},o.a.createElement(y,{searchParam:e.searchParam,setSearchParam:e.handlers.setSearchParam,setPageNumber:e.handlers.setPageNumber}),o.a.createElement(x,{id:"active",name:"active",handler:e.handlers.setActiveStatus,labelText:"Active"}),o.a.createElement(x,{id:"promo",name:"promo",handler:e.handlers.setPromoStatus,labelText:"Promo"})))},R=a(42),W=a.n(R),V=a(43),F=a.n(V),X=a(8),Y=a.n(X),Z=function(e){return o.a.createElement("div",{className:Y.a.SingleProduct},o.a.createElement("div",{className:Y.a.imageWrapper},!!e.product.promo&&o.a.createElement("div",{className:Y.a.promoSign},"Promo"),o.a.createElement("img",{srcSet:e.product.image})),o.a.createElement("div",{className:Y.a.ProductDetails},o.a.createElement("p",{className:Y.a.ProductName},e.product.name),o.a.createElement("p",{className:Y.a.ProductDescription},e.product.description),o.a.createElement("div",{className:Y.a.starsContainer},function(e,t){for(var a=[],n=0;n<5;n++)n<e?a.push(F.a):a.push(W.a);return a.map((function(e,a){return o.a.createElement("img",{src:e,className:Y.a.singleStar,key:"".concat(t).concat(a)})}))}(e.product.rating,e.product.name)),o.a.createElement("button",{className:Y.a.showDetailsButton,onClick:function(){e.handlers.handleSetPopupActive(!0),e.handlers.setPopupData(e.product)}},"Show details")))},q=a(15),z=a.n(q),J=a(18),G=a.n(J),K=a(44),T=a.n(K),$=function(){return o.a.createElement("div",{className:G.a.EmptyList},o.a.createElement("img",{src:T.a,className:G.a.listImage}),o.a.createElement("p",{className:G.a.emptyListHeader},"Ooops\u2026 It\u2019s empty here"),o.a.createElement("p",{className:G.a.emptyListSubheader},"There are no products on the list"))},ee=function(){var e=Object(r.useContext)(l),t=(e.isUserLoggedIn,e.handleSetIsUserLoggedIn,e.userInfo,e.isPopupActive),a=e.handleSetPopupActive,n=Object(r.useState)(""),c=Object(i.a)(n,2),s=c[0],u=c[1],m=Object(r.useState)(!1),p=Object(i.a)(m,2),d=p[0],g=p[1],h=Object(r.useState)(!1),E=Object(i.a)(h,2),f=E[0],P=E[1],_=Object(r.useState)([]),b=Object(i.a)(_,2),N=b[0],L=b[1],w=Object(r.useState)("https://join-tsh-api-staging.herokuapp.com/product"),C=Object(i.a)(w,2),O=(C[0],C[1],Object(r.useState)({})),k=Object(i.a)(O,2),B=k[0],x=k[1],U=Object(r.useState)(!1),D=Object(i.a)(U,2),y=D[0],H=D[1],Q=Object(r.useState)({}),R=Object(i.a)(Q,2),W=R[0],V=R[1],F=Object(r.useState)(1),X=Object(i.a)(F,2),Y=X[0],q=X[1],J=Object(r.useState)({}),G=Object(i.a)(J,2),K=G[0],T=G[1],ee=Object(r.useState)(!1),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],re=function(){var e=Object(v.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!1),e.next=4,A.a.get("https://join-tsh-api-staging.herokuapp.com/product",{params:{limit:12,page:Y,search:s,promo:d,active:f}});case 4:a=e.sent,n=a.data,L(n.items),x(n.meta),V(n.links),H(!0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(!0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){re(ne)}),[s,d,f,Y]),o.a.createElement("div",{className:t?"".concat(z.a.activePopup," ").concat(z.a.Products," "):z.a.Products},o.a.createElement(M,{searchParam:s,handlers:{setSearchParam:u,setPageNumber:q,setActiveStatus:P,setPromoStatus:g}}),o.a.createElement("div",{className:z.a.ProductsWrapper},ae&&o.a.createElement("p",null,"There's an error with the server, please come back later"),y?N.map((function(e){return o.a.createElement(Z,{product:e,handlers:{handleSetPopupActive:a,setPopupData:T}})})):o.a.createElement("div",{className:z.a.loader},"loading"),y&&!N.length?o.a.createElement($,null):null,t?o.a.createElement(j,{popupData:K,setPopupActive:a}):null,y&&B.totalPages>1?o.a.createElement(I,{pagesSettings:B,pagesLinks:W,setPageNumber:q,pageNumber:Y}):null))},te=function(){return o.a.createElement(p.d,null,o.a.createElement(p.b,{path:n.home,exact:!0,component:ee}),o.a.createElement(p.b,{path:n.login,component:P}),o.a.createElement(p.a,{to:n.home}))},ae=function(){return o.a.createElement(te,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(73);s.a.render(o.a.createElement(m,null,o.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){e.exports={SingleProduct:"Product_SingleProduct__3Y7lp",imageWrapper:"Product_imageWrapper__3JslV",promoSign:"Product_promoSign__1tpcH",ProductDetails:"Product_ProductDetails__3RANq",ProductName:"Product_ProductName__2lo91",ProductDescription:"Product_ProductDescription__2sOSP",starsContainer:"Product_starsContainer__1S4_3",singleStar:"Product_singleStar__j3uYL",showDetailsButton:"Product_showDetailsButton__mQIum"}},9:function(e,t,a){e.exports={loginPageWrapper:"Login_loginPageWrapper__2uMR4",leftSection:"Login_leftSection__24B6t",rightSection:"Login_rightSection__UvBld",formContainer:"Login_formContainer__1H22Y",logo:"Login_logo__2NSQc",heading:"Login_heading__2JKpB",loginForm:"Login_loginForm__1rPwO",passwordResetLink:"Login_passwordResetLink__18d1I"}}},[[45,1,2]]]);
//# sourceMappingURL=main.788d7cda.chunk.js.map